<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Lonely Voyager</title>
  <style>
    body { margin: 0; overflow: hidden; background: black; font-family: monospace; }
    #menu {
      position: absolute; top: 20px; left: 20px; color: #0f0;
      display: flex; flex-direction: column; align-items: flex-start;
    }
    #menu h1 {
      margin: 0 0 20px 0;
      font-size: 28px;
      text-shadow: 0 0 5px #0f0;
    }
    #menu button {
      margin: 10px 0;
      padding: 10px 20px;
      background: black;
      color: #0f0;
      border: 1px solid #0f0;
      cursor: pointer;
      font-family: monospace;
      width: 200px;
      text-align: left;
    }
    #menu button:hover {
      background: #0f0;
      color: black;
    }
  </style>
</head>
<body>
  <div id="menu">
    <h1>The Lonely Voyager</h1>
    <button id="exploreBtn">Explore the Solar System</button>
    <button id="rideBtn">Ride the Voyager</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script>
    // Scene + Camera
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 2000);
    camera.position.set(0, 0, 250);

    const renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Starfield
    const starGeo = new THREE.BufferGeometry();
    const starCount = 2000;
    const positions = [];
    for (let i=0;i<starCount;i++){
      positions.push(
        (Math.random()-0.5)*2000,
        (Math.random()-0.5)*2000,
        (Math.random()-0.5)*2000
      );
    }
    starGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions,3));
    const starMat = new THREE.PointsMaterial({color:0xffffff, size:1});
    const stars = new THREE.Points(starGeo, starMat);
    scene.add(stars);

    // Voyager model
    const bodyGeo = new THREE.BoxGeometry(8,6,6);
    const bodyMat = new THREE.MeshBasicMaterial({color:0x6688ff});
    const voyager = new THREE.Mesh(bodyGeo, bodyMat);
    scene.add(voyager);

    const dishGeo = new THREE.CylinderGeometry(0,20,6,32,1,true);
    const dishMat = new THREE.MeshBasicMaterial({color:0xffffcc, side:THREE.DoubleSide});
    const dish = new THREE.Mesh(dishGeo, dishMat);
    dish.rotation.x = Math.PI/2;
    dish.position.set(18,0,0);
    voyager.add(dish);

    // Solar system container (hidden at first)
    const solarSystem = new THREE.Group();
    solarSystem.visible = false;
    scene.add(solarSystem);

    // Sun
    const sunGeo = new THREE.SphereGeometry(20,32,32);
    const sunMat = new THREE.MeshBasicMaterial({color:0xffcc00});
    const sun = new THREE.Mesh(sunGeo, sunMat);
    solarSystem.add(sun);

    // Planets
    const planets = [];
    const planetData = [
      {color:0xaaaaaa, dist:40, size:4, speed:0.01},
      {color:0xff8800, dist:70, size:6, speed:0.008},
      {color:0x2266ff, dist:100, size:6.5, speed:0.006},
      {color:0xff3300, dist:130, size:5, speed:0.005}
    ];
    planetData.forEach(data=>{
      const geo = new THREE.SphereGeometry(data.size,32,32);
      const mat = new THREE.MeshBasicMaterial({color:data.color});
      const mesh = new THREE.Mesh(geo, mat);
      mesh.userData = data;
      solarSystem.add(mesh);
      planets.push(mesh);
    });

    // Animate
    let exploring = false;
    function animate(){
      requestAnimationFrame(animate);

      stars.rotation.y += 0.0005;

      if(!exploring){
        voyager.rotation.y += 0.01;
      } else {
        sun.rotation.y += 0.002;
        planets.forEach((p,i)=>{
          const d = p.userData.dist;
          const s = p.userData.speed;
          p.position.x = Math.cos(Date.now()*s*0.1 + i) * d;
          p.position.z = Math.sin(Date.now()*s*0.1 + i) * d;
          p.rotation.y += 0.01;
        });
      }

      renderer.render(scene,camera);
    }
    animate();

    // Button click
    document.getElementById('exploreBtn').addEventListener('click', ()=>{
      document.getElementById('menu').style.display = 'none';
      // Animate voyager drifting away
      let t=0;
      const drift = setInterval(()=>{
        t+=1;
        voyager.position.x += 2;
        voyager.position.y += 0.5;
        voyager.rotation.z += 0.05;
        if(t>50){
          clearInterval(drift);
          voyager.visible = false;
          solarSystem.visible = true;
          exploring = true;
        }
      },30);
    });

    window.addEventListener('resize', ()=>{
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
