<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lonely Voyager â€“ Solar System</title>
  <style>
    body { margin: 0; overflow: hidden; background: black; font-family: monospace; color: #0f0; }
    #hud {
      position: absolute; top: 20px; left: 20px;
      background: rgba(0,0,0,0.7); padding: 15px;
      border: 1px solid #0f0; display: none;
    }
    #hud h2 { margin: 0 0 10px 0; }
    #hud button {
      background: black; color: #0f0; border: 1px solid #0f0;
      padding: 5px 10px; cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="hud">
    <h2 id="planetName"></h2>
    <p id="planetStats"></p>
    <button id="backBtn">Return</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
  <script>
    // Scene setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 2000);
    camera.position.set(0, 50, 150);

    const renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;

    // Lighting
    const light = new THREE.PointLight(0xffffff, 2, 0);
    light.position.set(0,0,0);
    scene.add(light);

    // Sun
    const sunGeo = new THREE.SphereGeometry(10, 32, 32);
    const sunMat = new THREE.MeshBasicMaterial({ color: 0xffcc00 });
    const sun = new THREE.Mesh(sunGeo, sunMat);
    scene.add(sun);

    // Planets data
    const planetsData = [
      { name: "Mercury", dist: 20, size: 2, color: 0xaaaaaa, stats: "Diameter: 4,879 km\nFun fact: Fastest orbit." },
      { name: "Venus", dist: 30, size: 3, color: 0xffaa00, stats: "Diameter: 12,104 km\nFun fact: Hottest planet." },
      { name: "Earth", dist: 40, size: 3.2, color: 0x2266ff, stats: "Diameter: 12,742 km\nFun fact: Our home." },
      { name: "Mars", dist: 50, size: 2.5, color: 0xff3300, stats: "Diameter: 6,779 km\nFun fact: Red planet." }
    ];

    const planets = [];
    planetsData.forEach(data => {
      const geo = new THREE.SphereGeometry(data.size, 32, 32);
      const mat = new THREE.MeshStandardMaterial({ color: data.color });
      const mesh = new THREE.Mesh(geo, mat);
      mesh.position.x = data.dist;
      mesh.userData = data;
      scene.add(mesh);
      planets.push(mesh);
    });

    // Raycaster for clicks
    const raycaster = new THREE.Raycaster();
    const mouse = new THREE.Vector2();
    let targetPlanet = null;
    let zoomingIn = false;
    let originalPos = camera.position.clone();

    window.addEventListener('click', (e) => {
      mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
      raycaster.setFromCamera(mouse, camera);
      const intersects = raycaster.intersectObjects(planets);
      if(intersects.length > 0) {
        targetPlanet = intersects[0].object;
        zoomingIn = true;
        showHUD(targetPlanet.userData);
      }
    });

    // HUD
    const hud = document.getElementById('hud');
    const planetName = document.getElementById('planetName');
    const planetStats = document.getElementById('planetStats');
    const backBtn = document.getElementById('backBtn');

    function showHUD(data) {
      planetName.textContent = data.name;
      planetStats.textContent = data.stats;
      hud.style.display = 'block';
    }
    backBtn.onclick = () => {
      hud.style.display = 'none';
      zoomingIn = false;
      targetPlanet = null;
      camera.position.copy(originalPos);
    };

    // Animate
    function animate() {
      requestAnimationFrame(animate);
      planets.forEach((p,i) => {
        p.rotation.y += 0.01;
        p.position.x = planetsData[i].dist * Math.cos(Date.now()*0.0001 + i);
        p.position.z = planetsData[i].dist * Math.sin(Date.now()*0.0001 + i);
      });

      if(zoomingIn && targetPlanet) {
        const desiredPos = targetPlanet.position.clone().add(new THREE.Vector3(0, targetPlanet.userData.size*2, targetPlanet.userData.size*5));
        camera.position.lerp(desiredPos, 0.05);
        controls.target.lerp(targetPlanet.position, 0.05);
      }

      controls.update();
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
